<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Need help with a browser mod entity script service</title>
<style>
  body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; line-height: 1.55; color: #e2e8f0; max-width: 800px; margin: 26px auto; padding: 0 18px; background: #0a0e27; }
  h1 { color: #00d9ff; margin-bottom: 0.35em; line-height: 1.22; font-size: clamp(1.45rem, 2.1vw, 1.95rem); font-weight: 700; }
  .metadata { color: #94a3b8; font-size: 0.86em; margin-bottom: 1.2em; border-bottom: 1px solid rgba(0,217,255,0.2); padding-bottom: 0.7em; }
  p { margin-bottom: 0.72em; line-height: 1.58; }
  img { max-width: 100%; width: auto !important; height: auto !important; object-fit: contain !important; border-radius: 8px; display: block; margin: 0.6em auto; }
  a { color: #00d9ff; }
  .article-elevator { position: fixed; right: 14px; bottom: 14px; display: flex; flex-direction: column; gap: 8px; z-index: 9999; }
  .article-elevator-btn { width: 36px; height: 36px; border: 1px solid rgba(0,217,255,0.35); border-radius: 10px; background: rgba(10,14,39,0.88); color: #00d9ff; cursor: pointer; font-size: 16px; line-height: 1; }
  .article-elevator-btn:hover { background: rgba(10,14,39,1); }
  [id*="overlay"], [class*="overlay"], [id*="modal"], [class*="modal"], [id*="popup"], [class*="popup"],
  [id*="paywall"], [class*="paywall"], [id*="subscribe"], [class*="subscribe"], [id*="cookie"], [class*="cookie"],
  [id*="consent"], [class*="consent"], [id*="gdpr"], [class*="gdpr"], [role="dialog"], [aria-modal="true"] {
    display: none !important;
    visibility: hidden !important;
    pointer-events: none !important;
  }
</style>
</head>
<body>
  <h1>Need help with a browser mod entity script service</h1>
  <div class="metadata">
    Source: Home Assistant Community Forum (Latest) | Date: 2/27/2026 10:25:46 PM | <a href="https://community.home-assistant.io/t/need-help-with-a-browser-mod-entity-script-service/991352" target="_blank" rel="noopener noreferrer">Lien</a> | Lang: EN
  </div>
  <div class="content">
    <p><p>so i use browser mod… and havent touched things in several years<br>
i just added a script but the button doesnt work… if i did entity or service… one entiy glitchs the pop up card… and service… you can keep clicking it but it doesnt execute… but regular toggles work fine… so how do you make scripts work</p>
<p>here is a section of the code</p>
<pre><code class="lang-auto"> - type: custom:button-card template: bootstrap_button class: col-xl-2 col-lg-2 col-md-3 col-sm-4 col-4 entity: group.building_sound state_display: | [[[ var count = states['sensor.building_sound_on'].state; if (count == 1) return '1 Device On'; else return count + ' Devices On'; ]]] tap_action: action: fire-dom-event browser_mod: service: browser_mod.popup data: title: Building Sound large: true hide_header: false content: type: custom:bootstrap-grid-card global_col_class: col-xl-2 col-lg-2 col-md-3 col-xl-4 col-4 cards: - type: row cards: - entity: switch.stage_mixer_1 name: Stage Mixer type: entity-button icon: mdi:tune - entity: switch.stage_amp_1 name: Stage Amp type: entity-button icon: mdi:amplifier - entity: switch.building_door_1_speaker name: Building Door Speaker 1 type: entity-button icon: mdi:speaker - entity: script.turn_on_sound_equipment_and_am640 name: Turn On Equip &amp; 640 type: entity-button icon: mdi:speaker - service: script.turn_off_sound_equipment_and_am640 name: Turn Off Equip &amp; 640 type: button icon: mdi:speaker </code></pre>
<p>so i cant get the script to run.</p> <p><small>1 post - 1 participant</small></p> <p><a href="https://community.home-assistant.io/t/need-help-with-a-browser-mod-entity-script-service/991352">Read full topic</a></p></p>
  </div>
  <div class="article-elevator" aria-label="Navigation article">
    <button class="article-elevator-btn" type="button" onclick="scrollToTop()">▲</button>
    <button class="article-elevator-btn" type="button" onclick="scrollToBottom()">▼</button>
  </div>
  <script>
    function stripBlockingPanels() {
      const selector = '[id*="overlay"], [class*="overlay"], [id*="modal"], [class*="modal"], [id*="popup"], [class*="popup"], [id*="paywall"], [class*="paywall"], [id*="subscribe"], [class*="subscribe"], [id*="cookie"], [class*="cookie"], [id*="consent"], [class*="consent"], [id*="gdpr"], [class*="gdpr"], [role="dialog"], [aria-modal="true"]';
      const textPattern = /\b(cookie|consent|gdpr|subscribe|subscription|paywall|abonnez[-\s]?vous|inscrivez[-\s]?vous|continue reading|continuez la lecture|connexion|login|register|inscription|abonnement|premium|subscriber|compte|account|se connecter|sign in|sign up)\b/i;
      document.querySelectorAll(selector).forEach((node) => node.remove());
      document.querySelectorAll('div, section, aside, header, footer, nav').forEach((node) => {
        const styleAttr = String(node.getAttribute('style') || '').toLowerCase();
        const classAndId = String(node.className || '').toLowerCase() + ' ' + String(node.id || '').toLowerCase();
        const text = String(node.textContent || '').slice(0, 1200);
        const hasKeyword = textPattern.test(classAndId) || textPattern.test(text);
        const looksFixed = /(position\s*:\s*(fixed|sticky)|inset\s*:|top\s*:|left\s*:|right\s*:|bottom\s*:)/.test(styleAttr);
        const hasPriority = /(z-index\s*:\s*[1-9]\d{1,}|backdrop-filter|overflow\s*:\s*hidden)/.test(styleAttr);
        if (hasKeyword && (looksFixed || hasPriority)) node.remove();
      });
    }
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'auto' });
    }
    function scrollToBottom() {
      window.scrollTo({ top: document.documentElement.scrollHeight, behavior: 'auto' });
    }
    window.addEventListener('message', (event) => {
      const data = event && event.data;
      if (!data || data.type !== 'AI_PULSE_SCROLL') return;
      if (data.direction === 'up' || data.direction === 'top') scrollToTop();
      if (data.direction === 'down' || data.direction === 'bottom') scrollToBottom();
    });
    stripBlockingPanels();
    setTimeout(stripBlockingPanels, 60);
    setTimeout(stripBlockingPanels, 220);
    setTimeout(stripBlockingPanels, 650);
  </script>
</body>
</html>